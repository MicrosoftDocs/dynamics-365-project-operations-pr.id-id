---
title: Mengonfigurasi pembuatan faktur otomatis
description: Laporan topik menyediakan informasi tentang mengatur dan mengkonfigurasi pembuatan faktur proforma secara otomatis.
author: rumant
ms.date: 04/05/2021
ms.topic: article
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 2d212f2279b28d900e75d45386e343f95b8e825e
ms.sourcegitcommit: 40f68387f594180af64a5e5c748b6efa188bd300
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 05/10/2021
ms.locfileid: "6004175"
---
# <a name="set-up-automatic-invoice-creation"></a><span data-ttu-id="468f9-103">Mengonfigurasi pembuatan faktur otomatis</span><span class="sxs-lookup"><span data-stu-id="468f9-103">Set up automatic invoice creation</span></span> 
 
<span data-ttu-id="468f9-104">_**Berlaku untuk:** Penyebaran Lite- faktur dari penawaran hingga proforma, Project Operations untuk skenario berbasis sumber daya/non-stok_</span><span class="sxs-lookup"><span data-stu-id="468f9-104">_**Applies To:** Lite deployment - deal to proforma invoicing, Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="468f9-105">Anda dapat mengonfigurasi pembuatan faktur otomatis di Dynamics 365 Project Operations.</span><span class="sxs-lookup"><span data-stu-id="468f9-105">You can configure automatic invoice creation in Dynamics 365 Project Operations.</span></span> <span data-ttu-id="468f9-106">Sistem membuat draf faktur proforma berdasarkan jadwal faktur untuk setiap baris kontrak dan kontrak proyek.</span><span class="sxs-lookup"><span data-stu-id="468f9-106">The system creates a draft proforma invoice based on the invoice schedule for each project contract and contract line.</span></span> <span data-ttu-id="468f9-107">Jadwal faktur dikonfigurasi pada tingkat baris kontrak.</span><span class="sxs-lookup"><span data-stu-id="468f9-107">Invoice schedules are configured at the contract line level.</span></span> <span data-ttu-id="468f9-108">Setiap baris pada kontrak dapat memiliki jadwal faktur yang berbeda, atau jadwal faktur yang sama dapat disertakan pada setiap baris kontrak.</span><span class="sxs-lookup"><span data-stu-id="468f9-108">Each line on a contract can have a distinct invoice schedule, or the same invoice schedule can be included on every line of the contract.</span></span>

<span data-ttu-id="468f9-109">Bila Anda membuat faktur, sistem selalu membuat minimal satu faktur per kontrak proyek.</span><span class="sxs-lookup"><span data-stu-id="468f9-109">When you create an invoice, the system always creates at least one invoice per project contract.</span></span> <span data-ttu-id="468f9-110">Dalam kasus tertentu, mungkin terdapat beberapa faktur yang dibuat.</span><span class="sxs-lookup"><span data-stu-id="468f9-110">In some cases, there may be multiple invoices created.</span></span> <span data-ttu-id="468f9-111">Misalnya, jika kontrak memiliki beberapa pelanggan, jumlah faktur yang sama akan dibuat sebagai jumlah pelanggan yang memiliki transaksi yang dapat ditagih ke faktur pada kontrak proyek tersebut.</span><span class="sxs-lookup"><span data-stu-id="468f9-111">For example, if the contract has multiple customers, the same number of invoices will be created as the number of customers that have billable transactions to invoice on that project contract.</span></span>

## <a name="understand-how-transactions-are-included-on-an-invoice"></a><span data-ttu-id="468f9-112">Memahami bagaimana transaksi disertakan dalam faktur</span><span class="sxs-lookup"><span data-stu-id="468f9-112">Understand how transactions are included on an invoice</span></span> 

<span data-ttu-id="468f9-113">Terkadang, setiap baris kontrak berbasis proyek menentukan jadwal faktur terpisah.</span><span class="sxs-lookup"><span data-stu-id="468f9-113">Sometimes, each project-based contract line specifies a separate invoice schedule.</span></span> <span data-ttu-id="468f9-114">Misalnya, Layanan penerapan kontrak Adatum memiliki baris kontrak berikut:</span><span class="sxs-lookup"><span data-stu-id="468f9-114">For example, implementation services for the Adatum contract have the following contract lines:</span></span>

- <span data-ttu-id="468f9-115">Pekerjaan prototipe yang merupakan harga tetap dengan dua tonggak yang dibuat secara manual.</span><span class="sxs-lookup"><span data-stu-id="468f9-115">Prototype work that is a fixed price with two manually created milestones.</span></span>
- <span data-ttu-id="468f9-116">Pekerjaan penerapan yang mencakup waktu dan akan ditagih dwi-mingguan pada hari Senin.</span><span class="sxs-lookup"><span data-stu-id="468f9-116">Implementation work that includes Time and will be billed bi-weekly on Mondays.</span></span>
- <span data-ttu-id="468f9-117">Pengeluaran yang timbul yang harus ditagih per bulan pada hari Senin pertama setiap bulannya.</span><span class="sxs-lookup"><span data-stu-id="468f9-117">Expenses incurred that need to be billed monthly on the first Monday of each month.</span></span>

<span data-ttu-id="468f9-118">Jadwal faktur yang ditentukan pada masing-masing dari dua baris item ini terlihat seperti tabel berikut:</span><span class="sxs-lookup"><span data-stu-id="468f9-118">Invoice schedules defined on each of these two line items look like the following table:</span></span>

| <span data-ttu-id="468f9-119">Baris Kontrak</span><span class="sxs-lookup"><span data-stu-id="468f9-119">Contract line</span></span> | <span data-ttu-id="468f9-120">Tanggal pembuatan faktur</span><span class="sxs-lookup"><span data-stu-id="468f9-120">Invoice run date</span></span> | <span data-ttu-id="468f9-121">Tanggal penutupan transaksi</span><span class="sxs-lookup"><span data-stu-id="468f9-121">Transaction cut-off date</span></span> | <span data-ttu-id="468f9-122">Tanggal tonggak</span><span class="sxs-lookup"><span data-stu-id="468f9-122">Milestone date</span></span> | <span data-ttu-id="468f9-123">Jumlah tonggak</span><span class="sxs-lookup"><span data-stu-id="468f9-123">Milestone amount</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="468f9-124">Pekerjaan Prototipe</span><span class="sxs-lookup"><span data-stu-id="468f9-124">Prototype work</span></span> | <span data-ttu-id="468f9-125">5 Oktober Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-125">October 5, Monday</span></span> | - | <span data-ttu-id="468f9-126">5 Oktober Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-126">October 5, Monday</span></span> | <span data-ttu-id="468f9-127">5000 USD</span><span class="sxs-lookup"><span data-stu-id="468f9-127">5000 USD</span></span> |
| - | <span data-ttu-id="468f9-128">Selasa, 3 November</span><span class="sxs-lookup"><span data-stu-id="468f9-128">November 3, Tuesday</span></span> | - | <span data-ttu-id="468f9-129">Selasa, 3 November</span><span class="sxs-lookup"><span data-stu-id="468f9-129">November 3, Tuesday</span></span> | <span data-ttu-id="468f9-130">12,000 USD</span><span class="sxs-lookup"><span data-stu-id="468f9-130">12,000 USD</span></span> |
| <span data-ttu-id="468f9-131">Pekerjaan Penerapan</span><span class="sxs-lookup"><span data-stu-id="468f9-131">Implementation work</span></span> | <span data-ttu-id="468f9-132">5 Oktober Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-132">October 5, Monday</span></span> | <span data-ttu-id="468f9-133">4 Oktober Ahad</span><span class="sxs-lookup"><span data-stu-id="468f9-133">October 4, Sunday</span></span> | - | - |
| - | <span data-ttu-id="468f9-134">19 Oktober Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-134">October 19, Monday</span></span> | <span data-ttu-id="468f9-135">18 Oktober Ahad</span><span class="sxs-lookup"><span data-stu-id="468f9-135">October 18, Sunday</span></span> | - | - |
| - | <span data-ttu-id="468f9-136">2 November, Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-136">November 2, Monday</span></span> | <span data-ttu-id="468f9-137">1 November, Ahad</span><span class="sxs-lookup"><span data-stu-id="468f9-137">November 1, Sunday</span></span> | - | - |
| - | <span data-ttu-id="468f9-138">16 November, Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-138">November 16, Monday</span></span> | <span data-ttu-id="468f9-139">15 November, Ahad</span><span class="sxs-lookup"><span data-stu-id="468f9-139">November 15, Sunday</span></span> | - | - |
| <span data-ttu-id="468f9-140">Pengeluaran yang dikeluarkan</span><span class="sxs-lookup"><span data-stu-id="468f9-140">Expenses incurred</span></span> | <span data-ttu-id="468f9-141">5 Oktober Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-141">October 5, Monday</span></span> | <span data-ttu-id="468f9-142">4 Oktober Ahad</span><span class="sxs-lookup"><span data-stu-id="468f9-142">October 4, Sunday</span></span> | - | - |
| - | <span data-ttu-id="468f9-143">2 November, Senin</span><span class="sxs-lookup"><span data-stu-id="468f9-143">November 2, Monday</span></span> | <span data-ttu-id="468f9-144">1 November, Ahad</span><span class="sxs-lookup"><span data-stu-id="468f9-144">November 1, Sunday</span></span> | - | - |

<span data-ttu-id="468f9-145">Dalam contoh ini ketika faktur otomatis berjalan pada:</span><span class="sxs-lookup"><span data-stu-id="468f9-145">In this example when the automatic invoicing runs on:</span></span>

- <span data-ttu-id="468f9-146">**4 Oktober atau tanggal sebelum itu** : tidak ada faktur yang dihasilkan untuk kontrak ini karena tabel **jadwal faktur** untuk masing-masing baris kontrak ini tidak memanggil 4 Oktober, minggu sebagai tanggal Jalankan faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-146">**October 4 or any date before**: No invoice is generated for this contract because the **Invoice Schedule** table for each of these contract lines doesn't call out October 4, Sunday as an invoice run date.</span></span>
- <span data-ttu-id="468f9-147">**5 Oktober Senin**: satu faktur dibuat untuk:</span><span class="sxs-lookup"><span data-stu-id="468f9-147">**October 5 Monday**: One invoice is generated for:</span></span>

    - <span data-ttu-id="468f9-148">Pekerjaan prototipe yang mencakup tonggak, jika ditandai sebagai **siap untuk faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-148">Prototype work that includes the milestone, if it is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="468f9-149">Pekerjaan penerapan yang mencakup semua transaksi waktu yang dibuat sebelum tanggal batas transaksi 4 Oktober minggu yang ditandai sebagai **siap faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-149">Implementation work that includes all Time transactions created before the transaction cut-off date of October 4, Sunday, that is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="468f9-150">Pengeluaranyang dikeluarkan yang mencakup semua transaksi pengeluaran yang dibuat sebelum tanggal batas transaksi 4 Oktober minggu yang ditandai sebagai **siap faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-150">Expense incurred that includes all Expense transactions created before the transaction cut-off date of October 4, Sunday, that is marked as **Ready to Invoice**.</span></span>
  
- <span data-ttu-id="468f9-151">**Pada 6 Oktober atau tanggal sebelum 19 Oktober**: tidak ada faktur yang dihasilkan untuk kontrak ini karena tabel **jadwal faktur** untuk masing-masing baris kontrak ini tidak memanggil 6 Oktober atau tanggal sebelum 19 Oktober sebagai tanggal Jalankan faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-151">**On October 6 or any date before October 19**: No invoice is generated for this contract since the **Invoice Schedule** table for each of these contract lines does not call out October 6 or any date before October 19 as an invoice run date.</span></span>
- <span data-ttu-id="468f9-152">**19 Oktober, Senin**: Satu faktur dihasilkan untuk pekerjaan penerapan yang mencakup semua transaksi waktu yang dibuat sebelum tanggal batas transaksi 18 Oktober minggu yang ditandai sebagai **siap faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-152">**October 19, Monday**: One invoice is generated for implementation work that includes all Time transactions created before the transaction cut-off date of October 18, Sunday, that is marked as **Ready to Invoice**.</span></span>
- <span data-ttu-id="468f9-153">**2 November Senin**: satu faktur dibuat untuk:</span><span class="sxs-lookup"><span data-stu-id="468f9-153">**November 2 Monday**: One invoice is generated for:</span></span>

    - <span data-ttu-id="468f9-154">Pekerjaan penerapan yang mencakup semua transaksi waktu yang dibuat sebelum tanggal batas transaksi 1 November minggu yang ditandai sebagai **siap faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-154">Implementation work that includes all Time transactions created before the transaction cut-off date of November 1, Sunday, that is marked as **Ready to Invoice**.</span></span>
    - <span data-ttu-id="468f9-155">Pengeluaranyang dikeluarkan yang mencakup semua transaksi pengeluaran yang dibuat sebelum tanggal batas transaksi 1 November minggu yang ditandai sebagai **siap faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-155">Expense incurred that includes all Expense transactions created before the transaction cut-off date of November 1, Sunday, that is marked as **Ready to Invoice**.</span></span>

- <span data-ttu-id="468f9-156">**3 November, Selasa**: satu faktur dibuat untuk pekerjaan prototipe yang mencakup tonggak untuk 12000 USD, jika ditandai sebagai **siap untuk faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-156">**November 3, Tuesday**: One invoice is generated for prototype work that includes the milestone for 12000 USD, if it is marked as **Ready to Invoice**.</span></span>

## <a name="configure-automatic-invoicing"></a><span data-ttu-id="468f9-157">Konfigurasikan faktur Otomatis</span><span class="sxs-lookup"><span data-stu-id="468f9-157">Configure automatic invoicing</span></span>

<span data-ttu-id="468f9-158">Selesaikan langkah berikut untuk mengkonfigurasi faktur otomatis yang berjalan.</span><span class="sxs-lookup"><span data-stu-id="468f9-158">Complete the following steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="468f9-159">Di **Project Operations**, buka **pengaturan** > **persiapan faktur rutin**.</span><span class="sxs-lookup"><span data-stu-id="468f9-159">In **Project Operations**, go to **Settings** > **Recurring Invoice Setup**.</span></span>
2. <span data-ttu-id="468f9-160">Membuat batch pekerjaan, dan namai **Project operations buat faktur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-160">Create a batch job, and name it **rPoject Operations Create Invoices**.</span></span> <span data-ttu-id="468f9-161">Nama pekerjaan batch harus mencakup kata "Buat faktur".</span><span class="sxs-lookup"><span data-stu-id="468f9-161">The name of the batch job must include the words, "create invoices".</span></span>
3. <span data-ttu-id="468f9-162">Di bidang **jenis pekerjaan**, pilih **tidak ada**.</span><span class="sxs-lookup"><span data-stu-id="468f9-162">In the **Job Type** field, select **None**.</span></span> <span data-ttu-id="468f9-163">Secara default, bidang **frekuensi harian** dan opsi **aktif** diatur ke **ya**.</span><span class="sxs-lookup"><span data-stu-id="468f9-163">By default, the **Frequency Daily** and **Is Active** fields are set to **Yes**.</span></span>
4. <span data-ttu-id="468f9-164">Pilih **Jalankan alur kerja**.</span><span class="sxs-lookup"><span data-stu-id="468f9-164">Select **Run Workflow**.</span></span> <span data-ttu-id="468f9-165">Di kotak dialog **mencari rekaman**, Anda akan melihat tiga alur kerja:</span><span class="sxs-lookup"><span data-stu-id="468f9-165">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

- <span data-ttu-id="468f9-166">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="468f9-166">ProcessRunCaller</span></span>
- <span data-ttu-id="468f9-167">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="468f9-167">ProcessRunner</span></span>
- <span data-ttu-id="468f9-168">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="468f9-168">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="468f9-169">Pilih **ProcessRunCaller** dan kemudian pilih **Tambahkan**.</span><span class="sxs-lookup"><span data-stu-id="468f9-169">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="468f9-170">Pilih **OK** di kotak dialog berikutnya.</span><span class="sxs-lookup"><span data-stu-id="468f9-170">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="468f9-171">Alur kerja **tidur** diikuti dengan alur kerja **proses**.</span><span class="sxs-lookup"><span data-stu-id="468f9-171">A **Sleep** workflow is followed by a **Process** workflow.</span></span> 

> [!NOTE]
> <span data-ttu-id="468f9-172">Anda juga dapat memilih **ProcessRunner** di langkah 5.</span><span class="sxs-lookup"><span data-stu-id="468f9-172">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="468f9-173">Kemudian, bila Anda memilih **OK**, alur kerja **proses** diikuti dengan alur kerja **tidur**.</span><span class="sxs-lookup"><span data-stu-id="468f9-173">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="468f9-174">Alur kerja **ProcessRunCaller** dan **ProcessRunner** membuat faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-174">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="468f9-175">**ProcessRunCaller** memanggil **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="468f9-175">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="468f9-176">**ProcessRunner** adalah alur kerja yang benar-benar membuat faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-176">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="468f9-177">Alur kerja melalui semua baris kontrak pembuatan faktur, dan membuat faktur untuk baris tersebut.</span><span class="sxs-lookup"><span data-stu-id="468f9-177">The workflow goes through all the contract lines that invoices must be created for, and creates invoices for those lines.</span></span> <span data-ttu-id="468f9-178">Untuk menentukan baris kontrak yang harus dibuat faktur, pekerjaan akan melihat tanggal faktur berjalan untuk baris kontrak.</span><span class="sxs-lookup"><span data-stu-id="468f9-178">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="468f9-179">Jika baris kontrak milik satu kontrak memiliki tanggal yang sama saat menjalankan faktur, transaksi digabungkan menjadi satu faktur yang memiliki dua baris faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-179">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="468f9-180">Jika tidak ada transaksi untuk membuat faktur, pekerjaan akan melompati pembuatan faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-180">If there are no transactions to create invoices for, the job skips creating an invoice.</span></span>

<span data-ttu-id="468f9-181">Setelah **ProcessRunner** selesai berjalan, maka ia memanggil **ProcessRunCaller**, menyediakan waktu berakhir, dan ditutup.</span><span class="sxs-lookup"><span data-stu-id="468f9-181">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="468f9-182">**ProcessRunCaller** kemudian memulai timer yang berjalan selama 24 jam dari waktu berakhir yang ditentukan.</span><span class="sxs-lookup"><span data-stu-id="468f9-182">**ProcessRunCaller** then starts a timer that runs for 24-hours from the specified end time.</span></span> <span data-ttu-id="468f9-183">Di akhir timer, **ProcessRunCaller** ditutup.</span><span class="sxs-lookup"><span data-stu-id="468f9-183">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="468f9-184">Pekerjaan proses batch untuk membuat faktur adalah pekerjaan berulang.</span><span class="sxs-lookup"><span data-stu-id="468f9-184">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="468f9-185">Jika proses batch ini dijalankan berkali-kali, beberapa instans pekerjaan dibuat dan menyebabkan kesalahan.</span><span class="sxs-lookup"><span data-stu-id="468f9-185">If this batch process is run many times, multiple instances of the job are created and causes errors.</span></span> <span data-ttu-id="468f9-186">Oleh karena itu, Anda harus memulai proses batch hanya satu kali, kemudian me-restart hanya jika berhenti berjalan.</span><span class="sxs-lookup"><span data-stu-id="468f9-186">Therefore, you should start the batch process only one time, and then restart only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="468f9-187">Faktur bets di Project Operations hanya berjalan untuk baris kontrak proyek yang dikonfigurasi dengan jadwal faktur.</span><span class="sxs-lookup"><span data-stu-id="468f9-187">Batch invoicing in Project Operations only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="468f9-188">Baris kontrak dengan metode penagihan harga tetap harus mengonfigurasikan tonggak waktu.</span><span class="sxs-lookup"><span data-stu-id="468f9-188">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="468f9-189">Baris kontrak proyek dengan metode waktu dan materi penagihan akan memerlukan pengaturan jadwal faktur berdasarkan tanggal.</span><span class="sxs-lookup"><span data-stu-id="468f9-189">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
